:root{
  --bg: #0a0f1f;
  --bg-2: #0f152b;
  --panel: #101632;
  --panel-2: #0c1230;
  --text: #e6f2ff;
  --muted: #96a4c1;
  --accent: #00e7ff;
  --accent-2: #ff007a;
  --lime: #b6ff00;
  --success: #2dd36f;
  --shadow: rgba(0, 0, 0, 0.6);
  --radius: 14px;
}

/* Base */
*{ box-sizing: border-box; }
html, body{ height: 100%; }

body.cyber-bg{
  background: 
    radial-gradient(1200px 800px at 20% -10%, #132049 0%, transparent 60%),
    radial-gradient(1200px 800px at 120% 20%, #1b0f2f 0%, transparent 60%),
    linear-gradient(180deg, var(--bg) 0%, #070a14 100%);
  color: var(--text);
  font-family: "Rajdhani", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  letter-spacing: .2px;
}

/* Scanlines overlay */
.scanlines{
  position: fixed; inset: 0; pointer-events: none; z-index: 1;
  background: repeating-linear-gradient(0deg, rgba(255,255,255,.02), rgba(255,255,255,.02) 1px, transparent 2px, transparent 4px);
  mix-blend-mode: soft-light;
}

/* Topbar */
.topbar{
  position: sticky; top: 0; z-index: 2;
  backdrop-filter: blur(6px);
  background: linear-gradient(90deg, rgba(0,0,0,.3), rgba(0,0,0,.05));
  border-bottom: 1px solid rgba(255,255,255,.06);
  padding: 14px 18px;
}

.brand{
  font-family: "Orbitron", sans-serif;
  letter-spacing: 1.5px; margin: 0;
  color: var(--text); text-transform: lowercase; font-weight: 800;
  text-shadow: 0 0 12px rgba(0, 231, 255, 0.35);
}
.brand .accent{ color: var(--accent); }
.brand .blink{ color: var(--accent-2); animation: blink 1.6s steps(1) infinite; }
@keyframes blink{ 50%{ opacity: .25; } }

/* Panels */
.panel{
  background: linear-gradient(180deg, var(--panel) 0%, var(--panel-2) 100%);
  border-radius: var(--radius); padding: 18px; position: relative;
  box-shadow:
    0 10px 30px var(--shadow),
    inset 0 0 0 1px rgba(255,255,255,.05),
    0 0 0 1px rgba(255,255,255,.04);
}
.panel::before{
  content:""; position:absolute; inset: -1px; z-index:-1;
  border-radius: calc(var(--radius) + 1px);
  background: linear-gradient(135deg, rgba(0,231,255,.45), rgba(255,0,122,.35), rgba(138,43,226,.35));
  filter: blur(18px); opacity: .18;
}

.panel-title{
  font-family: "Orbitron", sans-serif;
  font-size: 1.05rem; font-weight: 700; letter-spacing: .5px;
  margin: 0 0 16px 0;
  display: flex; align-items: center; gap: 8px;
}

/* Status dots */
.dot{ 
  display:inline-block; width:10px; height:10px; border-radius:50%; 
  box-shadow: 0 0 8px currentColor; 
}
.dot-cyan{ color: var(--accent); background: var(--accent); }
.dot-magenta{ color: var(--accent-2); background: var(--accent-2); }
.dot-lime{ color: var(--lime); background: var(--lime); }
.dot-muted{ color: var(--muted); background: var(--muted); }

/* Status chip */
.status-chip{
  display: inline-flex; align-items: center; gap: 8px;
  padding: 6px 10px; border-radius: 999px;
  background: rgba(255,255,255,.04);
  border: 1px solid rgba(255,255,255,.08);
  font-weight: 700; letter-spacing: .4px;
  box-shadow: 0 8px 16px var(--shadow);
}

/* Alerts */
.alert{
  padding: 8px 12px; border-radius: 999px; border: none;
  font-weight: 600; letter-spacing: .4px;
}
.alert-success{
  background: rgba(45, 211, 111, .12); color: #d2ffe6;
  box-shadow: 0 0 12px rgba(45,211,111,.25);
}
.alert-secondary{
  background: rgba(150,164,193,.12); color: #cfe0ff;
  box-shadow: 0 0 12px rgba(150,164,193,.12);
}

/* Forms */
.grid-form{ display: grid; grid-template-columns: 1fr; gap: 10px; }
.grid-form label{ font-weight: 600; color: var(--muted); }
.grid-form input[type="text"],
.grid-form input[type="password"]{
  background: rgba(255,255,255,.03);
  border: 1px solid rgba(255,255,255,.08);
  border-radius: 10px; color: var(--text);
  height: 40px; padding: 0 12px; outline: none;
  transition: border-color .2s, box-shadow .2s;
}
.grid-form input:focus{
  border-color: rgba(0,231,255,.6);
  box-shadow: 0 0 0 3px rgba(0,231,255,.15);
}
.form-actions{ display:flex; gap: 10px; }

/* Buttons */
.btn-cyber{
  position: relative;
  background: linear-gradient(90deg, rgba(0,231,255,.18), rgba(255,0,122,.18));
  color: var(--text); border: 1px solid rgba(255,255,255,.08);
  border-radius: 12px; padding: 10px 14px;
  font-weight: 700; letter-spacing: .6px; text-transform: uppercase;
  box-shadow: 0 10px 20px var(--shadow), 0 0 0 1px rgba(255,255,255,.04) inset;
  overflow: hidden;
}
.btn-cyber:hover{ filter: brightness(1.08); }
.btn-cyber:active{ transform: translateY(1px); }

/* Transport controls */
.controls .icon-btn{
  background: rgba(255,255,255,.04);
  border: 1px solid rgba(255,255,255,.08);
  border-radius: 14px; color: var(--text);
  min-width: 88px; padding: 10px 14px; margin: 6px;
  display: inline-flex; align-items:center; justify-content:center; gap: 8px;
  text-transform: uppercase; font-weight: 700; letter-spacing: .6px;
  transition: transform .08s ease, box-shadow .2s ease, border-color .2s;
  box-shadow: 0 8px 20px var(--shadow);
}
.controls .icon-btn:hover{
  transform: translateY(-1px);
  border-color: rgba(0,231,255,.45);
  box-shadow: 0 10px 24px rgba(0,231,255,.12), 0 8px 20px var(--shadow);
}
.controls svg{
  fill: none; stroke-width: 2.2; stroke-linejoin: round; stroke-linecap: round;
}
.controls .icon-btn:nth-child(1) svg{ stroke: var(--accent); }
.controls .icon-btn:nth-child(2) svg{ stroke: #f4d35e; }
.controls .icon-btn:nth-child(3) svg{ stroke: var(--lime); }
.controls .icon-btn:nth-child(4) svg{ stroke: var(--accent-2); }
.controls #repeat-btn svg{ stroke: var(--accent); }  /* garante ícone visível */

/* Volume slider */
.volume label{ font-weight: 700; letter-spacing: .4px; color: var(--muted); }
.slider-row{ display:flex; align-items:center; gap: 10px; }
.slider-cyber{
  -webkit-appearance: none; width: 100%; height: 10px; border-radius: 999px;
  background: linear-gradient(90deg, rgba(0,231,255,.35), rgba(255,0,122,.35));
  border: 1px solid rgba(255,255,255,.08); outline: none;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.04), 0 8px 18px var(--shadow);
}
.slider-cyber::-webkit-slider-thumb{
  -webkit-appearance: none; appearance: none;
  width: 22px; height: 22px; border-radius: 50%;
  background: radial-gradient(circle at 30% 30%, #fff 0%, #b9faff 35%, #00e7ff 70%, #00b5c9 100%);
  box-shadow: 0 0 0 3px rgba(0,231,255,.25), 0 0 18px rgba(0,231,255,.45);
  border: 2px solid rgba(0,0,0,.35);
}
.slider-cyber::-moz-range-thumb{
  width: 22px; height: 22px; border: none; border-radius: 50%;
  background: radial-gradient(circle at 30% 30%, #fff 0%, #b9faff 35%, #00e7ff 70%, #00b5c9 100%);
  box-shadow: 0 0 0 3px rgba(0,231,255,.25), 0 0 18px rgba(0,231,255,.45);
}
.vol-out{ font-weight: 700; min-width: 52px; text-align: right; color: var(--accent); }

/* Queue */
.queue-list{
  list-style: none; padding: 0; margin: 0;
  display: grid; gap: 8px;
  max-height: 520px; overflow: auto;
  overflow-x: hidden;
}
.queue-list li{
  background: rgba(255,255,255,.03);
  border: 1px solid rgba(255,255,255,.08);
  border-left: 4px solid transparent;
  border-image: linear-gradient(180deg, var(--accent), var(--accent-2)) 1;
  border-radius: 10px; padding: 10px 12px; color: var(--text);
  display: flex; align-items: center; gap: 10px;
  box-shadow: 0 6px 16px var(--shadow);
  cursor: grab;
  user-select: none;
  position: relative;
  min-width:0;
}
.queue-list li:active{ cursor: grabbing; }
.queue-list li.drag-over{
  outline: 2px dashed var(--accent);
  outline-offset: 2px;
}
.queue-title{ flex: 1; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; font-weight: 600; min-width:0; }

.q-actions{ display: inline-flex; gap: 6px; }
.queue-btn{
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.12);
  width: 30px; height: 30px;
  display:flex; align-items:center; justify-content:center;
  font-size: 14px; font-weight:700;
  border-radius: 8px; line-height:1;
  padding:0; color: var(--text);
  transition: border-color .2s, transform .12s;
}
.queue-btn:hover{
  border-color: rgba(0,231,255,.5);
  transform: translateY(-2px);
}
.queue-btn.play{ color: var(--lime); }
.queue-btn.del{ color: var(--accent-2); }
.icon-btn#repeat-btn.repeat-active{
  border-color: var(--accent);
  box-shadow: 0 0 12px rgba(0,231,255,.35), 0 8px 20px var(--shadow);
}

/* Estado bloqueado / desabilitado visual */
.btn-cyber[disabled],
input[disabled],
button[disabled]{
  opacity:.45;
  cursor:not-allowed !important;
  filter:grayscale(.4);
}

.bot-actions{
  display:flex;
  gap:10px;
  align-items:stretch;
}
.bot-actions > form,
.bot-actions > button{
  flex:1 1 50%;
}
#start-form.locked input,
#start-form.locked #start-btn{
  pointer-events:none;
  opacity:.5;
}
#disconnect-btn:not([disabled]){ opacity:1 !important; }
/* fix misalignment */
#start-form input{ width:100%; }

.footer-note{
  border-top:1px solid rgba(255,255,255,.06);
  margin-top:40px;
}
.footer-copy{
  display:inline-block;
  letter-spacing:.4px;
  font-weight:600;
  color:var(--muted);
  text-shadow:0 0 6px rgba(0,231,255,.25);
}

/* Improve alignment of inputs/buttons inside start form */
#start-form input{ width:100%; }